<!DOCTYPE HTML>
<!--
Arcana by HTML5 UP
html5up.net | @ajlkn
Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>

<head>
<!-- <title>Arcana by HTML5 UP</title> -->
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
<link rel="stylesheet" href="../assets/css/main.css" />
<script src="https://cdn.jsdelivr.net/gh/google/code-prettify@master/loader/run_prettify.js"></script>
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script> MathJax = { tex: {
      tags: 'all'  // should be 'ams', 'none', or 'all'
    }
  };</script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</head>
  
<body class="is-preload">
<div id="page-wrapper">

<!-- Header -->
<div id="header">

<!-- Logo -->
<h1><a href="index.html" id="logo">DeepDrill<em> Mandelbrot</em></a></h1>

<!-- Nav -->
<nav id="nav">
<ul>
<li><a href="../index.html">Home</a></li>
<li class="current"><a href="index.html">Documentation</a></li>
<li><a href="https://github.com/dirkwhoffmann/DeepDrill">Code</a></li>
<li><a href="https://github.com/dirkwhoffmann/DeepDrill/issues">Issues</a></li>
<li><a href="https://github.com/dirkwhoffmann/DeepDrill/discussions">Discussions</a></li>
<li><a href="../impressum.html">Impressum</a></li>
</ul>
</nav>
</div>

<!-- Main -->
<section class="wrapper style1">
<div class="container">
<div class="row gtr-200">
<div class="col-9 col-12-narrower imp-narrower">
<div id="content">

<!-- Content -->

<article>
<h2>Tutorial</h2>

<h3>Computing still images</h3>

<p>In this tutorial you will learn how to create the DeepDrill cover image with the DeepDrill tool chain.</p> 
<p>
<span class="image">
<img src="images/cover.jpg" alt="" />
</span>
</p>

<p>It is assumed that DeepDrill has been <a href="installation.html">installed</a></li> successfully on your machine. The structure we will create is buried deep in the Mandelbrot set. To compute the image, we need to tell DeepDrill the location of the object. This is done by passing a location file (.loc) as a command line parameter. A predefined location file for the title image is stored in the locations directory under <code>spider.loc</code>. Before we proceed, let's have a look at the contents of this file:

<pre style="word-wrap: break-word;"><code>[location]

real = -2.2677664067387922388691356244792255191880358267082812585024439971401610105397724372362029456154053824622609164675371629196502594528331340581293956764916452361e-01

imag = -1.117239683936324591688558276484236515382167529582119984326546585480315896250189264406156057191817849297272681286515999107473779581849650803960450730872327827101e+00

zoom = 6.36119E152
depth = 3500000
</code></pre>
<p>Four key-value pairs are defined. The first two determine the position of the center coordinate on the complex number plane. The third pair defines the magnification factor and the fourth pair specifies the maximum number of iterations. If an orbit has not broken out by the time this iteration is performed, the corresponding point is considered part of the Mandelbrot set.</p>

<p>Assuming the current directory is DeepDrill's main directory, we can launch DeepDrill by executing the following command on the command line:

<pre>
<code>bin/deepdrill -o spider.map locations/spider.loc</code>
</pre>
The following output is generated: 
<pre style="word-wrap: break-word;">
<code>DeepDrill 0.1 - (C)opyright 2021 Dirk W. Hoffmann

  Round 1: 518400 points
  
     Computing reference orbit: ................................. 0.02 sec
        Computing coefficients: ................................. 0.36 sec
         Checking probe points: ................................. 0.01 sec
        Computing delta orbits: ................................. 1.02 sec
               Saving map file: ................................. 0.02 sec
  
  Total time: 1.44
</code>
</pre>
<p>Note that we don't generate the image directly. Instead, we compute a so called map file which stores various information about the orbit of each pixel. Creating the map file is the first phase in a two-phase process. In the second phase, the map file is tranlated into an image. This phase is started by specifying a map file as input and a tiff file as output.</p>
<pre>
<code>bin/deepdrill -o spider.tiff spider.map</code>
</pre>
The following output is generated: 
<pre style="word-wrap: break-word;">
<code>DeepDrill 0.1 - (C)opyright 2021 Dirk W. Hoffmann

  Loading map file: ................................. 0.03 sec
        Colorizing: ................................. 0.01 sec
 Saving image data: ................................. 0.03 sec
Converting to TIFF: ................................. 0.02 sec

Total time: 0.10</code>
</pre>
<p>Up to now, DeepDrill only supports tiff images, but formats are likely to come.</p>

<p>By default, DeepDrill generates a 960 x 540 pixel image with a predefined color palette and other predefined standard settings. All settings can be customized by specifying one or more profiles (.prf files). DeepDrill comes with a number of predefined profiles, such as the high.prf profile, which generates HD quality images. Profiles are passed to DeepDrill with the <code>-p</code> option:</p>	
<pre>
<code>bin/deepdrill -v -p profiles/high.prf -o spider.tiff locations/spider.loc</code>
</pre>
<p>As can be seen in this example, it is possible to go directly from a location file to a tiff image. In this case the map file is only built internally and not written to disk. Since rendering the map file is by far the most time-consuming part, saving map files to disk is the preferred method if a single map file is to be rendered multiple times, e.g. with different color palettes.</p>	

<p>You may also have noticed the additional <code>-v</code> option. If this option is specified, DeepDrill runs in verbose mode and prints details about the settings and the current computing run.</p>

</p>
<h3>Workflow automation</h3>

<p>To simplify the workflow, DeepDrill can set up a Makefile that automates the various processing steps. To do so, we first create an empty project directory:</p>
<pre>
<code>mkdir project</code>
</pre>
To set up a workflow in this directory, we start DeepDrill with option <code>-m</code>:
<pre>
<code>bin/deepdrill -m -p profiles/high.prf -o project locations/spider.loc</code>
</pre>
<p>AAfter executing the command, three files have been created in the project directory: <code>Makefile</code>, <code>spider.loc</code>, and <code>spider.prf</code>. Let's have a look at the Makefile: 
<pre>
<code># Generated by DeepDrill 0.1

DEEPDRILL = bin/deepdrill
	
.PHONY: all clean
	
all: spider.tiff
	
spider.tiff: spider.map
    $(DEEPDRILL) -v  -p spider.prf -o spider.tiff spider.map 
	
spider.map: spider.loc
    $(DEEPDRILL) -v  -p spider.prf -o spider.map spider.loc 
	
clean:
    rm *.map *.tiff</code>
</pre>
<p>The Makefile defines two major goals: One to create the map file from the location file and another to convert the map file to an image. To create the image, change to the project directory and run the Make utility:</p>
<pre>
<code>cd project
make
</code>
</pre>
<p>Admittedly, workflow automation is of limited use when creating still images, since such images can be calculated by issuing a single shell command. However, the feature will become invaluable once DeepDrill gains support for creating zoom videos. In this case, a cascade of images will have to be computed and assembled in the right way. However, this functionality is yet to come.
</p>

</article>
</div>
</div>
<div class="col-3 col-12-narrower">
<div id="sidebar2">

<!-- Sidebar -->
<section>
<h3>Getting Started</h3>
<ul>
	<li><a href="building.html">Building DeepDrill</a></li>
	<li><a href="tutorial.html">Running DeepDrill</a></li>
</ul>
<h3>Theory</h3>
<ul>
	<li><a href="mandel.html">The Mandelbrot Set</a></li>
	<li><a href="perturb.html">Perturbation Theory</a></li>
	<li><a href="series.html">Series Approximation</a></li>
</ul>
</section>
</div>
</div>
</div>
</div>
</section>

<!-- Footer -->
<div id="footer">

<!-- Icons -->
<ul class="icons">
<li><a href="https://github.com/dirkwhoffmann" class="icon brands fa-github"><span
class="label">GitHub</span></a></li>
</ul>

<!-- Copyright -->
<div class="copyright">
<ul class="menu">
<li>&copy; <a href="http://www.dirkwhoffmann.de">Dirk W. Hoffmann</a></li>
<li><a href="impressum.html">Impressum</a></li>
<li><a href="impressum.html">Datenschutz</a></li>
<li><a href="http://html5up.net">HTML5 UP</a></li>
</ul>
</div>

</div>

</div>

<!-- Scripts -->
<script src="assets/js/jquery.min.js"></script>
<script src="assets/js/jquery.dropotron.min.js"></script>
<script src="assets/js/browser.min.js"></script>
<script src="assets/js/breakpoints.min.js"></script>
<script src="assets/js/util.js"></script>
<script src="assets/js/main.js"></script>
</body>

</html>